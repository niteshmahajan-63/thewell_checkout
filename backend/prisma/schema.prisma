generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model CheckoutClient {
  id                        Int                    @id @default(autoincrement())
  zohoRecordId              String                 @unique @map("zoho_record_id")
  stripeCustomerId          String                 @map("stripe_customer_id")
  clientSecret              String?                @unique @map("client_secret")
  amount                    String                 @map("amount")
  subscriptionScheduledDays String?                @map("subscription_scheduled_days")
  stripeInvoiceID           String?                @map("stripe_invoice_id")
  invoiceName               String?                @map("invoice_name")
  paymentSource             String?                @map("payment_source")
  paymentDate               DateTime?              @map("payment_date")
  stripePaymentId           String?                @map("stripe_payment_id")
  paymentStatus             String?                @map("payment_status")
  crmPaymentRecordId        String?                @map("crm_payment_record_id")
  invoiceType               String?                @map("invoice_type")
  hostedInvoiceUrl          String?                @map("hosted_invoice_url")
  errorMessage              String?                @map("error_message")
  companyName               String?                @map("company_name")
  customerEmail             String?                @map("customer_email")
  deactivatedLink           String?                @map("deactivated_link")
  createdAt                 DateTime               @default(now()) @map("created_at")
  updatedAt                 DateTime               @updatedAt @map("updated_at")
  invoiceItems              CheckoutInvoiceItems[]

  @@map("checkout_clients")
}

model CheckoutInvoiceItems {
  id                 Int            @id @default(autoincrement())
  zohoRecordId       String         @unique @map("zoho_record_id")
  invoiceItemId      String         @map("invoice_item_id")
  stripePriceId      String?        @map("stripe_price_id")
  stripeProductId    String?        @map("stripe_product_id")
  productName        String?        @map("product_name")
  amount             String?        @map("amount")
  quantity           String?        @map("quantity")
  productDescription String?        @map("product_description")
  stripeDiscountId   String?        @map("stripe_discount_id")
  zcdisplayValue     String?        @map("zc_display_value")
  createdAt          DateTime       @default(now()) @map("created_at")
  updatedAt          DateTime       @updatedAt @map("updated_at")
  checkoutClientId   Int
  checkoutClient     CheckoutClient @relation(fields: [checkoutClientId], references: [id])

  @@map("checkout_invoice_items")
}
